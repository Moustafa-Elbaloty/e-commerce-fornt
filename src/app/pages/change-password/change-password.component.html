<div class="password-wrapper">
  <div class="password-card">
    <h2>Security</h2>
    <p>Update your password to keep your account secure.</p>

    <form (ngSubmit)="submit()">

      <div class="form-group">
        <label>Current Password</label>
        <div class="input-box">
          <i class="fas fa-lock"></i>
          <input
            type="password"
            placeholder="Enter current password"
            [(ngModel)]="formData.currentPassword"
            name="currentPassword"
            required
          >
        </div>
      </div>

      <div class="form-group">
        <label>New Password</label>
        <div class="input-box">
          <i class="fas fa-key"></i>
          <input
            type="password"
            placeholder="Enter new password"
            [(ngModel)]="formData.newPassword"
            name="newPassword"
            required
            minlength="8"
          >
        </div>
      </div>

      <div class="form-group">
        <label>Confirm New Password</label>
        <div class="input-box">
          <i class="fas fa-check-double"></i>
          <input
            type="password"
            placeholder="Repeat new password"
            [(ngModel)]="formData.confirmNewPassword"
            name="confirmNewPassword"
            required
          >
        </div>
      </div>

      <!-- Error -->
      <p *ngIf="error" style="color: var(--danger); margin-bottom: 10px;">
        {{ error }}
      </p>

      <!-- Success -->
      <p *ngIf="success" style="color: #2e7d32; margin-bottom: 10px;">
        {{ success }}
      </p>

      <button
        type="submit"
        class="btn btn-primary btn-update"
        [disabled]="loading"
      >
        {{ loading ? 'Updating...' : 'Update Password' }}
      </button>
    </form>

    <a
      class="back-link"
      routerLink="/profile"
    >
      <i class="fas fa-arrow-left"></i> Back to Profile
    </a>
  </div>
</div>
